function generateQRCode(d,b,c,a){$("#qrcode").qrcode({render:d,width:b,height:c,text:a,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"})}function init(b){generateQRCode("canvas",200,200,b);var c=document.getElementsByTagName("canvas")[0];var a=convertCanvasToImage(c);$("canvas").hide();$("#qrcode").append(a);$(c).remove();$("#qrcode>img").css({width:"100%"})}function convertCanvasToImage(a){var b=new Image();b.src=a.toDataURL("image/png");return b}function utf16to8(e){var b,d,a,f;b="";a=e.length;for(d=0;d<a;d++){f=e.charCodeAt(d);if((f>=1)&&(f<=127)){b+=e.charAt(d)}else{if(f>2047){b+=String.fromCharCode(224|((f>>12)&15));b+=String.fromCharCode(128|((f>>6)&63));b+=String.fromCharCode(128|((f>>0)&63))}else{b+=String.fromCharCode(192|((f>>6)&31));b+=String.fromCharCode(128|((f>>0)&63))}}}return b};