$(function(){Metronic.init();Layout.init();QuickSidebar.init();Demo.init();$(".date-picker").datepicker({format:"yyyy-mm-dd ",weekStart:0,autoclose:true,todayHighlight:true,defaultDate:new Date(),keyboardNavigation:true,todayBtn:"linked",clearBtn:"linked",language:"zh-CN"});$("#form").find("#cancle").click(function(){var a=$("#baseUrl").text().trim();window.location.href=a+"/adminManage/platfrompassageinterface"});$("#passageNo").blur(function(){var e=$(this);var b=e.attr("id");var d=$("#baseUrl").text().trim();if($("#"+b+"-error").text()==""){e.parent().parent().find("label:gt(0)").remove();var g=e.val();var f=e.attr("placeholder");var a=0;var c="";if(g==null||g==""){a++;c="为空"}if(a!=0){e.parent().parent().append('<label id="'+b+'-error" class="error" for="'+b+'">'+f+c+"</label>")}}else{$("#"+b+"-success").remove()}});$.validator.addMethod("isNumOne",function(c,a){var b=/[^\d]/g;return this.optional(a)||(!b.test(c))},"只能输入数字");$("#form").validate({event:"submit",rules:{passageNo:{required:true},interfaceType:{required:true},interfaceName:{required:true},userStatus:{required:true},status:{required:true}},messages:{passageNo:{required:"请输入通道编号"},interfaceType:{required:"请输入接口类型"},interfaceName:{required:"请输入接口名称"},userStatus:{required:"请选择使用中或者未使用"},status:{required:"请选择正常或者关闭"}},submitHandler:function(e){var a=0;var d="";if(a==0){var c=$("#baseUrl").text().trim();var b=$("#form").serialize();$.ajax({url:c+"/adminManage/platfrompassageinterface/save",data:b,type:"POST",success:function(f){var f=JSON.parse(f);bootbox.alert(f.values,function(){if(f.executeStatus=="0"){location.href=c+f.url}})}})}else{bootbox.alert(d,function(){})}return false},errorPlacement:function(a,b){a.appendTo(b.parent().parent())}})});